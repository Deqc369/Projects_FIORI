<mvc:View xmlns="sap.m" xmlns:mvc="sap.ui.core.mvc" xmlns:l="sap.ui.layout" xmlns:fb="sap.ui.comp.filterbar" xmlns:core="sap.ui.core"
	xmlns:semantic="sap.m.semantic" xmlns:footerbar="sap.ushell.ui.footerbar" xmlns:smartFilterBar="sap.ui.comp.smartfilterbar"
	xmlns:smartTable="sap.ui.comp.smarttable" xmlns:smartField="sap.ui.comp.smartfield" xmlns:u="sap.ui.unified"
	xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" xmlns:ui="sap.ui.table"
	controllerName="APP_BAJAS_3428.APP_BAJAS_3428.controller.Worklist" xmlns:f="sap.ui.layout.form" xmlns:html="http://www.w3.org/1999/xhtml">
	<semantic:SemanticPage id="page" headerPinnable="true" toggleHeaderOnTitleClick="false" preserveHeaderStateOnScroll="true">
		<semantic:content>
			<Panel >
				<l:VerticalLayout width="28%" height="200px">
					<FlexBox alignItems="Center" justifyContent="Center">
						<items>
							<Image error="fnverimgen" visible="{data>/escritorio}" densityAware="true" width="360px" height="150px"></Image>
							<Image error="fnverimgen1" visible="{data>/telefono}" densityAware="true" width="90px" height="70px"></Image>
						</items>
					</FlexBox>
					<l:horizontalLayout>
						<FlexBox alignItems="Center" justifyContent="Center">
							<items>
								<Button type="Accept" text="Actualizar" press="onInit" id="button2" class="sapUiSmallMarginEnd"/>
								<!--<html:input type="file" id = "prueba"/>-->
								<!--	<Button type="Accept" text="prueba" press="pruebalecturarchivo" id="button6" class="sapUiSmallMarginEnd"/>-->
								<!--<u:FileUploader id="fileUploader" change="pruebalecturarchivo" fileType="pdf" width="100%" name="myFileUpload" uploadComplete="handleUploadComplete" uploadUrl="upload/"/>-->
								<Button type="Accept" text="Aprobar" press="onUnlistObjects" id="aceptar" enabled="{aceptar>/valida}" class="sapUiSmallMarginEnd"/>
								<Button type="Accept" visible="{data>/btncrear}" press="NavToCreate" text="Crear Solicitud Nueva" class="sapUiSmallMarginEnd"/>
							</items>
						</FlexBox>
					</l:horizontalLayout>
					<!--Add Marisol Ocampo 25/03/2020-->
					<l:horizontalLayout >
						<FlexBox alignItems="Start" justifyContent="Center">
							<items>
								<Button type="Accept" visible="{data>/mtobajas}" text="Movimiento de bajas" press="MovBajas" id="button4" class="sapUiSmallMarginEnd"/>
								<Button type="Reject" visible="{data>/visible}" press="f_open_dialog_login" text="Rechazar" enabled="{aceptar>/valida}" id="rechazar"
									class="sapUiSmallMarginEnd"/>
								<!--<Button type="Reject" visible="{data>/btncrear}" press="onApproveDialog" text="Cancelar" id="btn_cancelar" class="sapUiSmallMarginEnd"/>-->
								<Button type="Reject" visible="{data>/btncrear}" press="f_cancelarvali" text="Cancelar" id="btn_cancelar" class="sapUiSmallMarginEnd"/>

							
							</items>
						</FlexBox>
					</l:horizontalLayout>
					<!--Fin Marisol Ocampo 25/03/2020-->
					<!--Add Marisol Ocampo 24/06/2021-->
					<l:horizontalLayout >
						<FlexBox alignItems="Start" justifyContent="Center">
							<items>
								<Button type="Accept" visible="{data>/btnModificar}" press="NavToUpdate" text="Modificar Solicitud" class="sapUiSmallMarginEnd"/>
							</items>
						</FlexBox>
					</l:horizontalLayout>
					<!--Fin Marisol Ocampo 24/06/2021-->
				</l:VerticalLayout>
				<l:VerticalLayout width="72%" height="200px">
					<fb:FilterBar reset="onReset" search="obtenerfiltro" showRestoreButton="false" showClearButton="false" id="objectFilter"
						useToolbar="{= ${device>/system/phone} }">
						<fb:filterGroupItems >
							<fb:FilterGroupItem groupName="__$INTERNAL$" name="A" label="Centro Emplazamiento" partOfCurrentVariant="true" visibleInFilterBar="true">
								<fb:control>
									<Select id="slName" forceSelection="true" change="onSelectChange" items="{centros>/}">
										<core:Item key="{centros>Emplazamiento}" text="{centros>Emplazamiento}"/>
									</Select>
								</fb:control>
							</fb:FilterGroupItem>
							<!--	<fb:FilterGroupItem groupName="__$INTERNAL$" name="Aa" label="Año: Desde" partOfCurrentVariant="true" visibleInFilterBar="true">
								<fb:control>
                             <Input type="reset" liveChange="validarAnio" maxLength="4" id="anoH" width="20%"/>
                  			</fb:control>
							</fb:FilterGroupItem>-->
							<!--<fb:FilterGroupItem groupName="__$INTERNAL$" name="Ae" label="Numero Equipo" partOfCurrentVariant="true" visibleInFilterBar="true">
								<fb:control>
									<Input type="Number" id="nEquipo"/>
								</fb:control>
							</fb:FilterGroupItem>
							Comentado por Marisol Ocampo 17/06/2021 Se solicita eliminar este filtro-->
							<!--Add Marisol Ocampo 17/06/2021 adicion de campos Placa-->
							<fb:FilterGroupItem style="width:20%" groupName="__$INTERNAL$" name="Ad" label="Año Construccion" partOfCurrentVariant="true" visibleInFilterBar="true">
								<fb:control >
									<!--<Input type="reset" liveChange="validarAnio" maxLength="4" id="anoH"  width="10%"/>-->
									<DateRangeSelection id="ano" displayFormat="yyyy" change="calcularA"/>
								</fb:control>
							</fb:FilterGroupItem>
							<fb:FilterGroupItem width="8px" groupName="__$INTERNAL$" name="Ae" label="Placa" partOfCurrentVariant="true" visibleInFilterBar="true">
								<fb:control>
									<Input id="nPlaca" width="8px"/>
								</fb:control>
							</fb:FilterGroupItem>
							<fb:FilterGroupItem width="8px" groupName="__$INTERNAL$" name="Ac" label="N° Activo Fijo" partOfCurrentVariant="true"
								visibleInFilterBar="true">
								<fb:control>
									<Input type="Number" id="ActFijo" width="8px"/>
								</fb:control>
							</fb:FilterGroupItem>
							<!--Fin Marisol Ocampo 17/06/2021 adicion de campos -->
							<fb:FilterGroupItem groupName="__$INTERNAL$" name="Ai" label="Oficina Ventas" partOfCurrentVariant="true" visibleInFilterBar="true">
								<fb:control>
									<Select id="OfVentas" forceSelection="true" items="{list>/}">
										<core:Item key="{list>oficina}" text="{list>oficina}"/>
									</Select>
								</fb:control>
							</fb:FilterGroupItem>
							<!--Add Marisol Ocampo 21/06/2021 adicion de campos Equipo-->
							<!--	<fb:FilterGroupItem groupName="__$INTERNAL$" name="B" label="Fecha Solicitud: Desde" labelTooltip="Tooltip Example" mandatory="false"
								partOfCurrentVariant="true" visibleInFilterBar="true">
								<fb:control>
									<Input type="Date" id="fecha"/>
								</fb:control>
							</fb:FilterGroupItem>-->
							<fb:FilterGroupItem groupName="__$INTERNAL$" name="Bc" label="Fecha Solicitud" labelTooltip="Tooltip Example" mandatory="false"
								partOfCurrentVariant="true" visibleInFilterBar="true">
								<fb:control>
									<DateRangeSelection id="Fecha" showFooter="true" displayFormat="yyyy/MM/dd"/>
								</fb:control>
							</fb:FilterGroupItem>
							<!--Fin Marisol Ocampo 21/06/2021 adicion de campos Equipo-->
							<fb:FilterGroupItem groupName="__$INTERNAL$" name="Af" label="Categoria Causal" partOfCurrentVariant="true" visibleInFilterBar="true">
								<fb:control>
									<Select id="CateCausal" forceSelection="true" items="{diagnosticos>/}">
										<core:ListItem key="" text=""/>
										<core:Item key="{diagnosticos>Diagnostico}" text="{diagnosticos>Diagnostico}"/>
									</Select>
								</fb:control>
							</fb:FilterGroupItem>
							<fb:FilterGroupItem groupName="__$INTERNAL$" name="Bb" label="Nivel" labelTooltip="Tooltip Example" mandatory="false"
								partOfCurrentVariant="true" visibleInFilterBar="true">
								<fb:control>
									<Select id="nivel" forceSelection="true"  items="{nivel>/}">
										<core:ListItem key="{nivel>Nivel}" text="{nivel>Nivel}"/>
									</Select>
								</fb:control>
							</fb:FilterGroupItem>
							<fb:FilterGroupItem groupName="__$INTERNAL$" name="Ag" label="Estado Solicitud" partOfCurrentVariant="true" visibleInFilterBar="true">
								<fb:control>
									<Select id="EstadoSol">
										<core:ListItem key="" text=""/>
										<core:ListItem key="B" text="En proceso de aprobación"/>
										<core:ListItem key="C" text="Proceso cancelado"/>
										<core:ListItem key="D" text="Dado de baja"/>
										<core:ListItem key="E" text="En espera de baja"/>
										<core:ListItem key="F" text="Aprobada"/>
									</Select>
								</fb:control>
							</fb:FilterGroupItem>
						</fb:filterGroupItems>
					</fb:FilterBar>
				</l:VerticalLayout>
				<f:SimpleForm editable="false" layout="ResponsiveGridLayout" title="" adjustLabelSpan="false" singleContainerFullSize="true">
					<f:content>
						<smartTable:SmartTable id="mySmartTableId" customData:useSmartToggle="true" editTogglable="false" tableType="ResponsiveTable"
							editable="false" entitySet="SolicitudesSet" tableBindingPath="oModelMNA>/" demandPopin="true" useVariantManagement="true"
							useTablePersonalisation="true" header="N° Solicitudes: {Ncantidad>/Ncantidad}" showRowCount="false" useExportToExcel="false"
							enableAutoBinding="true" showFullScreenButton="true" persistencyKey="SmartTableAnalytical_Explored" class="sapUiResponsiveContentPadding">
							<Panel>
								<FlexBox direction="Column" alignItems="Start" height="40px">
									<items>
										<Title level="H3" width="100%" text="Responsable : {data>/name}"/>
										<Title level="H3" width="auto" text="Nivel: { path: 'data>/nivel', formatter: '.formatter.status'}"/>
									</items>
								</FlexBox>
							</Panel>
							<Table mode="MultiSelect" id="table">
								<columns>
									<Column width="100px" hAlign="Left" id="Adjuntos">
										<customData>
											<core:CustomData key="p13nData"
												value='\{"columnKey": "Adjuntos","type":"sap.ui.model.type.String","leadingProperty": "Placa","sortProperty": "Placa","filterProperty": "Placa","columnIndex":"0"}'/>
										</customData>
										<Text text="Adjuntos" id="Adjuntosid"/>
									</Column>
									<Column width="100px" hAlign="Left" id="MasAdjuntos">
										<customData>
											<core:CustomData key="p13nData"
												value='\{"columnKey": "MasAdjuntos","type":"sap.ui.model.type.String","leadingProperty": "Placa","sortProperty": "Placa","filterProperty": "Placa","columnIndex":"1"}'/>
										</customData>
										<Text text="Agregar" id="MasAdjuntosid"/>
									</Column>
									<Column width="100px" hAlign="Left" id="Nosolicitud">
										<customData>
											<core:CustomData key="p13nData"
												value='\{"columnKey": "Nosolicitud","type":"sap.ui.model.type.String","leadingProperty": "Nosolicitud","sortProperty": "Nosolicitud","filterProperty": "Nosolicitud","columnIndex":"2"}'/>
										</customData>
										<Text text="N° Solicitud" id="Nosolicitudid"/>
									</Column>
									<Column width="100px" hAlign="Left" id="Placa">
										<customData>
											<core:CustomData key="p13nData"
												value='\{"columnKey": "Placa", "filterType":"sap.ui.model.type.String", "maxLength": "12","columnIndex":"0", "sortProperty": "Placa","filterProperty": "Placa","leadingProperty": "Placa","columnIndex":"3"}'/>
										</customData>
										<Text text="{i18n>tableNameColumnTitle}" id="nameColumnTitle"/>
									</Column>
									<Column width="100px">
										<customData>
											<core:CustomData key="p13nData"
												value='\{"columnKey": "Fecha","type":"sap.ui.model.type.Date","leadingProperty": "Fecha","sortProperty": "Fecha","filterProperty": "Fecha","columnIndex":"4"}'/>
										</customData>
										<Text text="{i18n>tableNamenameFecha}" id="nameFecha"/>
									</Column>
									<Column width="100px">
										<customData>
											<core:CustomData key="p13nData"
												value='\{"columnKey": "Claseequipo","leadingProperty": "Claseequipo","sortProperty": "Claseequipo","filterProperty": "Claseequipo","columnIndex":"5"}'/>
										</customData>
										<Text text="{i18n>tableNamenameClase}" id="Claseequipo"/>
									</Column>
									<Column width="100px">
										<customData>
											<core:CustomData key="p13nData"
												value='\{"columnKey": "Pies","leadingProperty": "Pies","sortProperty": "Pies","filterProperty": "Pies","columnIndex":"6"}'/>
										</customData>
										<Text text="{i18n>tableNamenamePies}" id="Pies"/>
									</Column>
									<Column width="100px">
										<customData>
											<core:CustomData key="p13nData"
												value='\{"columnKey": "Diagnostico","leadingProperty": "Diagnostico","sortProperty": "Diagnostico","filterProperty": "Diagnostico","columnIndex":"7"}'/>
										</customData>
										<Text text="{i18n>tableUnitNumberColumnTitle}" id="Diagnostico"/>
									</Column>
									<Column width="100px">
										<customData>
											<core:CustomData key="p13nData"
												value='\{"columnKey": "Ano","leadingProperty": "Ano","sortProperty": "Ano","filterProperty": "Ano","columnIndex":"8"}'/>
										</customData>
										<Text text="{i18n>tableano}" id="Ano"/>
									</Column>
									<Column width="100px">
										<customData>
											<core:CustomData key="p13nData"
												value='\{"columnKey": "Regional","leadingProperty": "Regional","sortProperty": "Regional","filterProperty": "Regional","columnIndex":"9"}'/>
										</customData>
										<Text text="{i18n>tableRegional}" id="Regional"/>
									</Column>
									<Column width="100px">
										<customData>
											<core:CustomData key="p13nData"
												value='\{"columnKey": "Activofijo","leadingProperty": "Activofijo","sortProperty": "Activofijo","filterProperty": "Activofijo","columnIndex":"10"}'/>
										</customData>
										<Text text="{i18n>tableNameActivofijo}" id="Activofijo"/>
									</Column>
									<Column width="100px">
										<customData>
											<core:CustomData key="p13nData"
												value='\{"columnKey": "Valorlibros","leadingProperty": "Valorlibros","sortProperty": "Valorlibros","filterProperty": "Valorlibros","columnIndex":"11"}'/>
										</customData>
										<Text text="{i18n>tableValorlibros}" id="Valorlibros"/>
									</Column>
									<Column width="100px" visible="false">
										<customData>
											<core:CustomData key="p13nData"
												value='\{"columnKey": "Equipo","leadingProperty": "Equipo","sortProperty": "Equipo","filterProperty": "Equipo","columnIndex":"12"}'/>
										</customData>
										<Text text="Equipo" id="Equipo"/>
									</Column>
									<Column width="100px" visible="false">
										<customData>
											<core:CustomData key="p13nData"
												value='\{"columnKey": "Moneda","leadingProperty": "Moneda","sortProperty": "Moneda","filterProperty": "Equipo","columnIndex":"13"}'/>
										</customData>
										<Text text="Moneda" id="Moneda"/>
									</Column>
									<Column width="100px" visible="false">
										<customData>
											<core:CustomData key="p13nData"
												value='\{"columnKey": "Nivel","leadingProperty": "Nivel","sortProperty": "Nivel","filterProperty": "Nivel","columnIndex":"14"}'/>
										</customData>
										<Text text="Nivel" id="Nivel"/>
									</Column>
									<Column width="100px" visible="false">
										<customData>
											<core:CustomData key="p13nData"
												value='\{"columnKey": "Responsable","leadingProperty": "Responsable","sortProperty": "Responsable","filterProperty": "Responsable","columnIndex":"15"}'/>
										</customData>
										<Text text="Responsable" id="Responsable"/>
									</Column>
									<Column width="100px" visible="false">
										<customData>
											<core:CustomData key="p13nData"
												value='\{"columnKey": "Emplazamiento","leadingProperty": "Emplazamiento","sortProperty": "Emplazamiento","filterProperty": "Emplazamiento","columnIndex":"16"}'/>
										</customData>
										<Text text="Centro de Emplazamiento" id="Emplazamiento"/>
									</Column>
										<Column width="100px" visible="false">
										<customData>
											<core:CustomData key="p13nData"
												value='\{"columnKey": "Sociedad","leadingProperty": "Sociedad","sortProperty": "Sociedad","filterProperty": "Sociedad","columnIndex":"21"}'/>
										</customData>
										<Text text="Sociedad" id="Sociedad"/>
									</Column>
									<Column width="100px" visible="false">
										<customData>
											<core:CustomData key="p13nData"
												value='\{"columnKey": "Denominacion","leadingProperty": "Denominacion","sortProperty": "Denominacion","filterProperty": "Denominacion","columnIndex":"17"}'/>
										</customData>
										<Text text="Denominación" id="Denominacion"/>
									</Column>
									<Column width="100px" visible="false">
										<customData>
											<core:CustomData key="p13nData"
												value='\{"columnKey": "MovimientoBaja","leadingProperty": "Movimiento de baja","sortProperty": "Movimiento de baja","filterProperty": "Movimiento de baja","columnIndex":"18"}'/>
										</customData>
										<Text text="Movimiento de baja" id="Movimiento"/>
									</Column>
									<Column width="100px" visible="false">
										<customData>
											<core:CustomData key="p13nData"
												value='\{"columnKey": "Estado Solicitud","leadingProperty": "Estado Solicitud","sortProperty": "Estado Solicitud","filterProperty": "Estado Solicitud","columnIndex":"19"}'/>
										</customData>
										<Text text="Estado Solicitud" id="EstadoS"/>
									</Column>
									<!--	<Column width="100px" visible="false">-->
									<!--	<customData>-->
									<!--		<core:CustomData key="p13nData"-->
									<!--			value='\{"columnKey": "Tipo de solicitud","leadingProperty": "Tipo de solicitud","sortProperty": "Tipo de solicitud","filterProperty": "Tipo de solicitud","columnIndex":"22"}'/>-->
									<!--	</customData>-->
									<!--	<Text text="Tipo de solicitud" id="tipoS"/>-->
									<!--</Column>-->
									<Column width="100px" visible="false">
										<customData>
											<core:CustomData key="p13nData"
												value='\{"columnKey": "fechaalta","leadingProperty": "fechaalta","sortProperty": "fechaalta","filterProperty": "fechaalta","columnIndex":"20"}'/>
										</customData>
										<Text text="Fecha de alta" id="fechaalta"/>
									</Column>
								</columns>
								<items>
									<ColumnListItem type="Navigation" press=".onPress">
										<cells>
											<core:Icon src="sap-icon://attachment" fieldGroupIds="2" size="30px" color="#5394CB" alt="{oModelMNA>Equipo}" press="ver_imagen"/>
											<core:Icon src="sap-icon://add-document" fieldGroupIds="2" size="30px" color="#5394CB" alt="{oModelMNA>Equipo}" press="fn_add_adjunto"/>
											<Text text="{oModelMNA>Nosolicitud}"/>
											<ObjectIdentifier title="{oModelMNA>Placa}"/>
											<ObjectIdentifier title="{ path: 'oModelMNA>Fecha', formatter: '.formatter.fooBar'}"/>
											<Text text="{oModelMNA>Claseequipo}"/>
											<Text text="{oModelMNA>Pies}"/>
											<Text text="{oModelMNA>Diagnostico}"/>
											<Text text="{oModelMNA>Ano}"/>
											<Text text="{oModelMNA>Regional}"/>
											<Text text="{oModelMNA>Activofijo}"/>
											<ObjectNumber unit="{oModelMNA>Moneda}" number="{ path: 'oModelMNA>Valorlibros'}"/>
											<Text text="{oModelMNA>Equipo}"/>
											<Text text="{oModelMNA>Moneda}"/>
											<Text text="{oModelMNA>Nivel}"/>
											<Text text="{oModelMNA>Responsable}"/>
											<Text text="{oModelMNA>Emplazamiento}"/>
												<Text text="{oModelMNA>Sociedad}"/>
												<Text text="{oModelMNA>Eqktu}"/> 
											<Text text="{oModelMNA>Mtobaja}"/>
											<!--add Marisol ocampo 21/06/2021-->
											<Text text="{oModelMNA>StatusSol}"/>
										
											<!--add Marisol ocampo 17/03/2020-->
											<Text text="{oModelMNA>Aktiv}"/>
											<Text text="{oModelMNA>Tiposol}"/>
											<!--Fin Marisol ocampo 17/03/2020-->
											<!--add Marisol ocampo 17/03/2020-->
										</cells>
									</ColumnListItem>
								</items>
							</Table>
						</smartTable:SmartTable>
					</f:content>
				</f:SimpleForm>
			</Panel>
		</semantic:content>
	</semantic:SemanticPage>
</mvc:View>